Steps to create combined cluster

1. kind create cluster --config create-84os-cluster.yaml
2. kubectl create secret tls dev-c8-separated \
--cert dev.c8.separated.crt \
--key dev.c8.separated.key
3. kubectl create secret docker-registry dev-c8-registry \
--docker-server=registry.camunda.cloud \
--docker-username=emma.pollum \
--docker-password='Take@Breath1234' \
--docker-email=emma.pollum@camunda.com
4. helm install -f nginx_ingress_values.yaml nginx-ingress oci://ghcr.io/nginxinc/charts/nginx-ingress --version 0.18.0
5. helm install opensearch opensearch/opensearch -f os-values.yaml
6. helm install osd opensearch/opensearch-dashboards -f osd-values.yaml
7. kubectl port-forward deployment/osd-opensearch-dashboards 5601

//setup s3-plugin
kubectl exec --stdin --tty opensearch-cluster-master-0 -- /bin/bash
sh /usr/share/opensearch/bin/opensearch-plugin install --batch repository-s3
sh /usr/share/opensearch/bin/opensearch-keystore create
echo $AWS_ACCESS_KEY_ID | /usr/share/opensearch/bin/opensearch-keystore add --stdin s3.client.default.access_key &&
echo $AWS_SECRET_ACCESS_KEY | /usr/share/opensearch/bin/opensearch-keystore add --stdin s3.client.default.secret_key
curl -XPOST "http://localhost:9200/_nodes/reload_secure_settings"

curl -XPUT "http://localhost:9200/_snapshot/backuptest?error_trace" -H 'Content-Type: application/json' -d'
{
  "type": "s3",
  "settings": {
    "bucket": "emma-backup-test"
  }
}'

curl --request POST 'https://operate.c8.dev.local/actuator/backups' \
-H 'Content-Type: application/json' \
-d '{ "backupId": 123 }'